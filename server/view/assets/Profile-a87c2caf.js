import{_ as h,o,a as i,d as s,t as d,f as K,g as v,K as N,C as y,N as b,c as u,r as a,b as c,F as g,h as x}from"./index-35b603f5.js";const $={props:{cat:{type:Object,required:!0,default(){return{name:"no cat",bio:"no bio"}}}}},A=s("img",{src:v,alt:"Profile Picture"},null,-1);function P(l,e,t,f,n,_){return o(),i("div",null,[A,s("h2",null,d(t.cat.name),1),K(" @"+d(t.cat.username)+" ",1),s("p",null,d(t.cat.bio),1)])}const B=h($,[["render",P]]),V={data(){return{cat:{},kitts:{},kitt:{},isLoading:!1,isLogin:!1,error:null}},components:{Cat:B,Kitt:N,CreateKitt:y,Navigation:b},methods:{fetchAll(){if(this.isLoading=!0,!this.$cookies.isKey("login"))return;this.isLogin=!0;let l=this.$cookies.get("login"),e=Number(l);u.GetCat({id:e}).then(t=>{this.cat=t}).catch(t=>{console.log("cat error:",t)}),u.ListKitts({catId:e}).then(t=>{console.log(t),this.kitts=t.kitts}).catch(t=>{console.log("kitt error",t)}).finally(()=>{this.isLoading=!1})}},created(){this.fetchAll()}},F={key:0,id:"profile-container"},j=["kitt"],q={key:1},D=s("main",null,"Please Login!",-1),E=[D];function G(l,e,t,f,n,_){const m=a("Navigation"),p=a("Cat"),k=a("CreateKitt"),L=a("Kitt");return o(),i(g,null,[c(m),n.isLogin?(o(),i("section",F,[c(p,{cat:n.cat,"is-loading":n.isLoading},null,8,["cat","is-loading"]),s("main",null,[c(k,{ref:"fetchAll",onUpdate:e[0]||(e[0]=r=>_.fetchAll())},null,512),s("div",null,[(o(!0),i(g,null,x(n.kitts,(r,C)=>(o(),i("div",{key:C,kitt:r},[c(L,{"is-loading":n.isLoading,kitt:r},null,8,["is-loading","kitt"])],8,j))),128))])])])):(o(),i("section",q,E))],64)}const O=h(V,[["render",G]]);export{O as default};
